<!DOCTYPE html>
<html xmlns="http://www.thymeleaf.org">

<head>
    <meta charset="UTF-8">
    <title>Third Space Gym</title>

    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css" rel="stylesheet"
          integrity="sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC" crossorigin="anonymous">
</head>

<body>
<footer th:replace="navbar::mainnavbar">
    <!-- this is navbar-->
</footer>

<div class="container">
    <div class="row text-center mt-3">
        <h1 th:text="'Payments for ' + ${member.gname} + ' ID ' + ${member.gid}"></h1>
    </div>

    <div class="row">
        <div class="col-lg-6 offset-lg-3 mt-5">
            <form th:action="@{/gents_member/{id}/add_payment(id=${member.id})}" method="post">

                <div class="mb-3">
                    <label for="gname" class="form-label">Payment Name</label>
                    <select class="form-control" id="gname" name="gname" placeholder="Enter the member name" required>
                        <option value="">Select payment name</option>
                        <option value="Monthly">Monthly</option>
                        <option value="3 month package">3 month package</option>
                        <option value="6 month package">6 month package</option>
                        <option value="12 month package">12 month package</option>
                        <option value="Personal locker">Personal locker</option>
                    </select>
                </div>

                <div class="mb-3">
                    <label for="gamount" class="form-label">Amount</label>
                    <input type="number" class="form-control" id="gamount" name="gamount" placeholder="Enter the amount"
                           required>
                </div>

               <!--<div class="mb-3">
                    <label for="gpaymentmonth" class="form-label">Month</label>
                    <select class="form-control" id="gpaymentmonth" name="gpaymentmonth" required>
                        <option value="">Select which month this payment belongs to...</option>
                        <option value="January">January</option>
                        <option value="February">February</option>
                        <option value="March">March</option>
                        <option value="April">April</option>
                        <option value="May">May</option>
                        <option value="June">June</option>
                        <option value="July">July</option>
                        <option value="August">August</option>
                        <option value="September">September</option>
                        <option value="October">October</option>
                        <option value="November">November</option>
                        <option value="December">December</option>
                    </select>
                </div>-->

                <div class="mb-3">
                    <label for="gpaymentmonth" class="form-label">Month</label>
                    <select class="form-control" id="gpaymentmonth" name="gpaymentmonth" required>
                        <option value="">Select which month this payment belongs to...</option>
                        <!-- Thymeleaf loop to generate options for months from 2019 to 3000 -->
                        <th:block th:each="year : ${#numbers.sequence(2020,2070)}">
                            <th:block th:each="month : ${T(java.time.Month).values()}">
                                <option th:value="${month} + ' ' + ${year}" th:text="${month} + ' ' + ${year}"></option>
                            </th:block>
                        </th:block>
                    </select>
                </div>



                <div class="box-footer text-center">
                    <button type="submit" class="btn btn-primary">Add Payment</button>
                </div>

            </form>
        </div>
    </div>

    <div class="row mt-5">
        <table class="table table-striped table-hover">
            <thead>
            <tr>
                <th scope="col">Payment Name</th>
                <th scope="col">Amount</th>
                <th scope="col">Month</th>
                <th scope="col">Payment Date</th>
            </tr>
            </thead>
            <tbody>
            <tr th:each="payment: ${payments}">
                <td th:text="${payment.gname}"></td>
                <td th:text="${payment.gamount}"></td>
                <td th:text="${payment.gpaymentmonth}"></td>
                <td th:text="${payment.gpaymentdate}"></td>
            </tr>
            </tbody>
        </table>
    </div>
</div>


</body>
</html>
